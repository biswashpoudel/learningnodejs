<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Auth Ftontend</title>
</head>
<script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
<script> 
    async function signup(){
        const username = document.getElementById('signup-username').value 
        const password = document.getElementById('signup-password').value

        await axios.post('http://localhost:3000/signup',{
            username: username,
            password: password
        })
    }

    async function signin(){
        const username = document.getElementById('username').value 
        const password = document.getElementById('password').value

        const response =  await axios.post('http://localhost:3000/signin',{
            username: username,
            password: password
        })

        console.log(response)

        localStorage.setItem('token',response.data.token)
    }

    async function getInformation(){
        const response = await axios.get('http://localhost:3000/me',{
            headers: {token: localStorage.getItem('token')}
        })
        document.getElementById('get-information').innerHTML = "Username: " + response.data.username + "Password: " + response.data.password
    }
</script>
<body>
    <div id="signup">
        SignUp 

        <input type="text" id="signup-username" placeholder="username">
        <input type="password" id="signup-password" placeholder="password">
        <button id="signup-button" onclick="signup()"> Sign Up </button>

    </div>

    <div id="signin">
        Sign In 
        <input type="text" id="username" placeholder="username">
        <input type="password" id="password" placeholder="password">
        <button id="signin-button" onclick="signin()"> Sign In</button>
    </div>

    <div>
    <button onclick="getInformation()"> Get Information </button>
    <div id="get-information"></div>
    </div>

    <button id="submit" onclick="submit()"> Submit </button>
</body>
</html>